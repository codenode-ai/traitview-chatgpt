üìå Product Requirements Document (PRD)
TraitView - Vers√£o Simplificada - Single-Tenant
üîñ 1. Vis√£o Geral Simplificada
Objetivo do Produto Desenvolver uma plataforma web single-tenant para cria√ß√£o e aplica√ß√£o de testes de personalidade padronizados (escala Likert 1-5). Cada empresa ter√° sua pr√≥pria inst√¢ncia dedicada da plataforma.
Proposta de Valor "Avalia√ß√µes comportamentais profissionais para sua empresa em minutos, n√£o semanas"
P√∫blico-alvo
‚óè	Empresas m√©dias (100-500 funcion√°rios)
‚óè	Departamentos de RH estruturados
‚óè	Ticket m√©dio: R$ 10.000 - R$ 15.000
üí∞ 2. Modelo de Neg√≥cio Simplificado
Modelo de Licenciamento Anual
‚óè	Licen√ßa Padr√£o: R$ 12.000/ano
‚óã	At√© 200 colaboradores
‚óã	Testes ilimitados (oficiais + customizados)
‚óã	5 usu√°rios (3 admins + 2 editores)
‚óã	Editor de testes b√°sico
‚óã	Suporte por email
‚óã	Relat√≥rios b√°sicos
‚óè	Licen√ßa Premium: R$ 18.000/ano
‚óã	At√© 500 colaboradores
‚óã	Testes ilimitados (oficiais + customizados)
‚óã	15 usu√°rios (10 admins + 5 editores)
‚óã	Editor de testes avan√ßado + versionamento
‚óã	Relat√≥rios avan√ßados + gr√°ficos
‚óã	Suporte priorit√°rio + treinamento
‚óã	Personaliza√ß√£o visual
Implementa√ß√£o: R$ 2.000 - R$ 3.000 (one-time)
‚öô 3. Requisitos Funcionais Essenciais
3.1 Autentica√ß√£o e Usu√°rios
‚óè	RF001: Login via email/senha
‚óè	RF002: Recupera√ß√£o de senha
‚óè	RF003: Tr√™s perfis: Admin, Editor e Visualizador
‚óã	Admin: Acesso total, gerencia usu√°rios e configura√ß√µes
‚óã	Editor: Cria/edita testes e avalia√ß√µes, n√£o gerencia usu√°rios
‚óã	Visualizador: Apenas visualiza relat√≥rios e resultados
‚óè	RF004: Gest√£o b√°sica de usu√°rios
3.2 Gest√£o de Colaboradores
‚óè	RF005: CRUD completo de colaboradores
‚óè	RF006: Importa√ß√£o via CSV
‚óè	RF007: Campos: nome, email, cargo, departamento
‚óè	RF008: Busca e filtros b√°sicos
3.3 Gest√£o de Testes
‚óè	RF009: Biblioteca com 10 testes profissionais pr√©-configurados:
‚óã	Lideran√ßa, Comunica√ß√£o, Trabalho em Equipe
‚óã	Adaptabilidade, Orienta√ß√£o a Resultados, Tomada de Decis√£o
‚óã	Gest√£o de Conflitos, Inova√ß√£o, Intelig√™ncia Emocional, Resili√™ncia
‚óè	RF010: Editor de testes customizados com interface simplificada
‚óè	RF011: Cria√ß√£o de perguntas com escala Likert (1-5) obrigat√≥ria
‚óè	RF012: Defini√ß√£o de faixas interpretativas (Baixo/M√©dio/Alto)
‚óè	RF013: Duplica√ß√£o de testes existentes para customiza√ß√£o
‚óè	RF014: Preview em tempo real durante edi√ß√£o
‚óè	RF015: Versionamento b√°sico (hist√≥rico de altera√ß√µes)
‚óè	RF016: Valida√ß√£o autom√°tica (m√≠nimo 10 perguntas por teste)
3.4 Sistema de Avalia√ß√µes Simplificado
‚óè	RF017: Cria√ß√£o de avalia√ß√£o selecionando testes (pr√©-criados + customizados)
‚óè	RF018: Atribui√ß√£o de colaboradores √† avalia√ß√£o
‚óè	RF019: Gera√ß√£o de link √∫nico para cada colaborador
‚óè	RF020: Envio autom√°tico por email
3.5 Interface do Colaborador
‚óè	RF021: Interface responsiva e limpa
‚óè	RF022: Progresso visual entre testes
‚óè	RF023: Salvamento autom√°tico
‚óè	RF024: Possibilidade de pausar/retomar
3.6 Dashboard e Relat√≥rios
‚óè	RF025: Dashboard com m√©tricas principais
‚óè	RF026: Relat√≥rio individual por colaborador
‚óè	RF027: Relat√≥rio consolidado da equipe
‚óè	RF028: Exporta√ß√£o em PDF
‚óè	RF029: Gr√°ficos b√°sicos (radar, barras)
üõ° 4. Requisitos N√£o Funcionais
4.1 Performance
‚óè	Carregamento < 3 segundos
‚óè	Suporte a 50 usu√°rios simult√¢neos
‚óè	99% uptime
4.2 Seguran√ßa
‚óè	HTTPS obrigat√≥rio
‚óè	Backup di√°rio automatizado
‚óè	Conformidade LGPD b√°sica
4.3 Usabilidade
‚óè	Interface responsiva
‚óè	Onboarding em < 30 minutos
‚óè	Taxa de conclus√£o > 80%
üõ† 5. Stack T√©cnica Simplificada
Frontend
‚óè	React 18 + TypeScript
‚óè	Tailwind CSS + Shadcn/ui
‚óè	React Query + Zustand
‚óè	Recharts para gr√°ficos
Backend
‚óè	Supabase (PostgreSQL + Auth + Storage)
‚óè	Supabase Functions para processamento
Integra√ß√µes M√≠nimas
‚óè	Resend para emails
‚óè	Vercel para hosting
üìä 6. Modelo de Dados Simplificado
-- Usu√°rios da empresa
CREATE TABLE usuarios (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  email VARCHAR(255) UNIQUE NOT NULL,
  nome VARCHAR(255) NOT NULL,
  tipo VARCHAR(20) CHECK (tipo IN ('admin', 'editor', 'visualizador')),
  ativo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);
 
-- Colaboradores a serem avaliados
CREATE TABLE colaboradores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nome VARCHAR(255) NOT NULL,
  email VARCHAR(255) UNIQUE NOT NULL,
  cargo VARCHAR(255),
  departamento VARCHAR(255),
  ativo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);
 
-- Testes (pr√©-criados + customizados)
CREATE TABLE testes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  codigo VARCHAR(50) UNIQUE NOT NULL,
  nome VARCHAR(255) NOT NULL,
  descricao TEXT,
  categoria VARCHAR(100), -- Lideran√ßa, Comunica√ß√£o, etc
  perguntas JSONB NOT NULL, -- [{id: 1, texto: "...", ordem: 1}]
  faixas_interpretacao JSONB NOT NULL, -- [{min: 1, max: 2, label: "Baixo", cor: "#red"}]
  tipo VARCHAR(20) DEFAULT 'customizado', -- 'oficial' ou 'customizado'
  criado_por UUID REFERENCES usuarios(id),
  versao INTEGER DEFAULT 1,
  ativo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
 
-- Hist√≥rico de vers√µes dos testes
CREATE TABLE testes_versoes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  teste_id UUID REFERENCES testes(id),
  versao INTEGER NOT NULL,
  alterado_por UUID REFERENCES usuarios(id),
  alteracoes TEXT, -- Descri√ß√£o das mudan√ßas
  snapshot_teste JSONB NOT NULL, -- Backup completo da vers√£o anterior
  created_at TIMESTAMP DEFAULT NOW()
);
 
-- Avalia√ß√µes (conjunto de testes)
CREATE TABLE avaliacoes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nome VARCHAR(255) NOT NULL,
  descricao TEXT,
  criado_por UUID REFERENCES usuarios(id),
  testes_ids UUID[] NOT NULL,
  status VARCHAR(20) DEFAULT 'rascunho',
  created_at TIMESTAMP DEFAULT NOW()
);
 
-- Respostas dos colaboradores
CREATE TABLE respostas (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  avaliacao_id UUID REFERENCES avaliacoes(id),
  colaborador_id UUID REFERENCES colaboradores(id),
  teste_id UUID REFERENCES testes(id),
  teste_versao INTEGER NOT NULL, -- Para garantir consist√™ncia hist√≥rica
  link_acesso VARCHAR(255) UNIQUE NOT NULL,
  respostas JSONB, -- [{pergunta_id: 1, resposta: 4, pergunta_texto: "..."}]
  resultado JSONB, -- {score: 85, faixa: "Alto", interpretacao: "..."}
  status VARCHAR(20) DEFAULT 'pendente',
  iniciado_em TIMESTAMP,
  concluido_em TIMESTAMP,
  created_at TIMESTAMP DEFAULT NOW()
);
üóì 7. Roadmap MVP - 8 Semanas
Semanas 1-2: Funda√ß√£o
‚óè	Setup Supabase + autentica√ß√£o
‚óè	CRUD usu√°rios e colaboradores
‚óè	Interface b√°sica admin
Semanas 3-4: Gest√£o de Testes
‚óè	Seed dos 10 testes pr√©-criados
‚óè	Editor de testes customizados (interface b√°sica)
‚óè	Sistema de faixas interpretativas
‚óè	Preview em tempo real
Semanas 5-6: Avalia√ß√µes e Interface
‚óè	Sistema de cria√ß√£o de avalia√ß√µes
‚óè	Gera√ß√£o de links √∫nicos
‚óè	Interface responsiva para colaboradores
‚óè	Sistema de navega√ß√£o entre testes
Semanas 7-8: Relat√≥rios e Versionamento
‚óè	Dashboard b√°sico
‚óè	Relat√≥rios individuais e consolidados
‚óè	Sistema b√°sico de versionamento de testes
‚óè	Exporta√ß√£o PDF e testes finais
üìà 8. M√©tricas de Sucesso MVP
T√©cnicas
‚óè	‚úÖ Todas funcionalidades core implementadas
‚óè	‚úÖ Tempo carregamento < 3s
‚óè	‚úÖ 99% uptime
‚óè	‚úÖ Zero bugs cr√≠ticos
Produto
‚óè	‚úÖ Onboarding em < 30 min
‚óè	‚úÖ Taxa conclus√£o > 80%
‚óè	‚úÖ Interface funciona em mobile
Neg√≥cio
‚óè	‚úÖ 5 empresas piloto validando
‚óè	‚úÖ 500+ colaboradores avaliados
‚óè	‚úÖ Feedback positivo > 80%
üéØ 9. Jornadas Simplificadas
Admin da Empresa
1.	Login ‚Üí Dashboard overview
2.	Cria/customiza testes usando editor intuitivo
3.	Importa colaboradores via CSV
4.	Cria avalia√ß√£o selecionando testes (oficiais + customizados)
5.	Atribui colaboradores
6.	Envia links automaticamente
7.	Acompanha progresso
8.	Gera relat√≥rios
Colaborador
1.	Recebe email com link
2.	Acessa e v√™ resumo da avalia√ß√£o
3.	Responde testes sequencialmente
4.	Pode pausar/retomar
5.	Finaliza e v√™ confirma√ß√£o
üîÆ 10. Roadmap P√≥s-MVP
Vers√£o 2.0 (3 meses)
‚óè	Editor avan√ßado com templates e categorias
‚óè	Relat√≥rios comparativos avan√ßados
‚óè	Integra√ß√£o com sistemas HR
‚óè	Multi-idioma (EN/ES)
‚óè	Banco de perguntas colaborativo
Vers√£o 3.0 (6 meses)
‚óè	An√°lises preditivas b√°sicas
‚óè	Templates de relat√≥rio
‚óè	API para integra√ß√µes
‚óè	Mobile app
üí° 11. Principais Simplifica√ß√µes Realizadas
Removido do Escopo Original:
‚óè	Multi-tenancy (agora single-tenant)
‚óè	Sistema de pagamentos integrado (vendas diretas)
‚óè	~~Editor de testes (biblioteca pr√©-criada)~~ ‚úÖ Inclu√≠do no MVP
‚óè	Multi-idioma no MVP
‚óè	Analytics avan√ßados
‚óè	Sistema de planos
‚óè	M√∫ltiplas empresas por inst√¢ncia
Mantido o Valor Core:
‚óè	Avalia√ß√µes com m√∫ltiplos testes
‚óè	Editor de testes customizados simplificado
‚óè	Interface moderna e responsiva
‚óè	Relat√≥rios autom√°ticos
‚óè	Facilidade de uso
‚óè	Insights acion√°veis
üé≤ 12. Estrat√©gia de Valida√ß√£o
Pilotos Gratuitos (3 meses)
‚óè	5 empresas selecionadas
‚óè	Implementa√ß√£o sem custo
‚óè	Feedback intensivo
‚óè	Casos de uso documentados
Go-to-Market
‚óè	Vendas diretas B2B
‚óè	Foco em empresas 100-500 funcion√°rios
‚óè	Demonstra√ß√µes personalizadas
‚óè	Contratos anuais
Pr√≥ximos Passos
1.	Validar PRD com 3 potenciais clientes
2.	Criar prot√≥tipo das telas principais
3.	Setup da infraestrutura
4.	In√≠cio desenvolvimento (Semana 1)
________________________________________
Aprova√ß√£o: [Product Owner]
 Data: [Data]
 Vers√£o: 1.0 Simplificada
 Pr√≥xima Revis√£o: P√≥s-MVP
 


# Plano de
  Refatora√ß√£o do Traitview - Vers√£o Single-Tenant

  1. Estrutura de Pastas e Arquitetura- [ ] Reorganizar estrutura de pastas conforme o PRD- [ ] Criar 
  diret√≥rios: features/, providers/, utils/
   - [ ] Separar funcionalidades em m√≥dulos: auth/, collaborators/, tests/, assessments/, responses/,
     reports/## 2. Modelo de Dados e Supabase
   - [ ] Atualizar supabaseClient.ts com os tipos corretos do PRD
   - [ ] Criar tabelas conforme o modelo do PRD:  - [ ] usuarios - Usu√°rios da empresa
     - [ ] colaboradores - Colaboradores a serem avaliados - [ ] testes - Testes (pr√©-criados +
       customizados)
     - [ ] testes_versoes - Hist√≥rico de vers√µes dos testes - [ ] avaliacoes - Avalia√ß√µes (conjunto de
       testes)
     - [ ] respostas - Respostas dos colaboradores
   - [ ] Criar relacionamentos e constraints corretos

  3. Sistema de Autentica√ß√£o
   - [ ] Configurar Supabase Auth
   - [ ] Implementar login/logout
   - [ ] Recupera√ß√£o de senha- [ ] Sistema de permiss√µes (Admin, Editor, Visualizador)
   - [ ] Prote√ß√£o de rotas baseada em perfis

  ##4. Gest√£o de Usu√°rios
   - [ ] CRUD de usu√°rios com valida√ß√£o
   - [ ] Interface de gest√£o de usu√°rios
   - [ ] Atribui√ß√£o de perfis## 5. Gest√£o de Colaboradores
   - [ ] CRUD completo de colaboradores- [ ] Importa√ß√£o via CSV com valida√ß√£o
   - [ ] Busca e filtros b√°sicos
   - [ ] Interface de lista com pagina√ß√£o

  ##6. Gest√£o de Testes
   - [ ] Biblioteca com 10 testes pr√©-configurados- [ ] Editor de testes customizados
   - [ ] Sistema de faixas interpretativas
   - [ ] Preview em tempo real- [ ] Versionamento b√°sico
   - [ ] Valida√ß√£o autom√°tica (m√≠nimo 10 perguntas)

  ##7. Sistema de Avalia√ß√µes
   - [ ] Cria√ß√£o de avalia√ß√µes selecionando testes
   - [ ] Atribui√ß√£o de colaboradores
   - [ ] Gera√ß√£o de links √∫nicos para cada colaborador
   - [ ] Sistema de expira√ß√£o de links## 8. Sistema de Tokens e Links (SEU FLUXO ESPEC√çFICO)
   - [ ] Criar tabela respostas com campo link_acesso UNIQUE
   - [ ] Implementar gera√ß√£o de tokens aleat√≥rios
   - [ ] Criar RPC para validar token e resolver dados do teste
   - [ ] Criar RPC para salvar respostas validando token
   - [ ] Implementar marca√ß√£o de link como conclu√≠do## 9. Interface do Colaborador
   - [ ] P√°gina p√∫blica para responder avalia√ß√µes- [ ] Interface responsiva e limpa
   - [ ] Progresso visual entre testes
   - [ ] Salvamento autom√°tico- [ ] Possibilidade de pausar/retomar## 10. Dashboard e Relat√≥rios
   - [ ] Dashboard com m√©tricas principais
   - [ ] Relat√≥rios individuais por colaborador
   - [ ] Relat√≥rios consolidados da equipe- [ ] Exporta√ß√£o em PDF
   - [ ] Gr√°ficos b√°sicos (radar, barras)

  ##11. Integra√ß√µes
   - [ ] Configurar Resend para envio de emails- [ ] Implementar envio autom√°tico de links
   - [ ] Configurar exporta√ß√£o PDF## 12. Melhorias de Performance e Seguran√ßa
   - [ ] Otimiza√ß√£o de carregamento de dados
   - [ ] Implementa√ß√£o de cache
   - [ ] Conformidade LGPD b√°sica
   - [ ] Backup di√°rio automatizado## 13. Testes e Valida√ß√£o- [ ] Testes unit√°rios para funcionalidades
     principais
   - [ ] Testes de integra√ß√£o com Supabase
   - [ ] Valida√ß√£o com 5 empresas piloto
   - [ ] M√©tricas de sucesso do MVP

  Prioriza√ß√£o Recomendada:

  Fase 1 (Semanas1-2): Funda√ß√£o1. Estrutura de pastas e arquitetura
   2. Modelo de dados e Supabase3. Sistema de autentica√ß√£o4. Gest√£o de usu√°rios

  Fase2 (Semanas 3-4): Gest√£o de Conte√∫do
   5. Gest√£o de colaboradores
   6. Gest√£o de testes7. Biblioteca de testes pr√©-configurados

  Fase 3 (Semanas5-6): Avalia√ß√µes e Links
   8. Sistema de avalia√ß√µes
   9. Sistema de tokens e links (SEU FLUXO ESPEC√çFICO) ‚≠ê
   10. Interface do colaborador### Fase 4 (Semanas7-8): Relat√≥rios e Finaliza√ß√£o
   11. Dashboard e relat√≥rios
   12. Integra√ß√µes13. Testes e valida√ß√£o